<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<meta content="" name="description">
	<meta content="" name="author">
	<title>Home</title>
	<link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="assets/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="assets/css/animate.css" rel="stylesheet">
	<link href="assets/css/plugins.css" rel="stylesheet">
	<link href="style.css" rel="stylesheet">
	<link rel="stylesheet" href="./assets/css/main.css" />
	<link rel="stylesheet" href="./icon/iconfont.css">

	<style>

	</style>

</head>

<body class="top-navigation" onload="show()">

	<!-- Header -->
	<header id="header">
		<h1><a href="./index.html">I <img src="./images/爱心.svg" width="14dp"> LIVE HOUSE <span>by JUBEL</span></a></h1>
		<a href="#menu">菜单</a>
	</header>

	<!-- Nav -->
	<nav id="menu">
		<ul class="links">
			<li><a href="./index.html">主页</a></li>
			<li><a href="./generic -random.html">Live House视频</a></li>
			<li><a href="./generic - 1.html">音乐节视频</a></li>
			<li><a href="./elements.html">厦门 Live House</a></li>
			<li><a href="./music.html">音乐播放</a></li>
			<li><a href="./animation.html">摇滚星球</a></li>
			<li><a href="./animation2.html">3D地球</a></li>
			<li><a href="./info.html">联系方式</a></li>
		</ul>
	</nav>

	<div id="master-wrapper">
		<section id="contact-us" class="dark-wrapper">
			<div class="section-inner" style="height: 1000px;">
				<div class="container">
					<div class="row mb60 text-center">
						<div class="col-sm-12">
							<h3 class="section-title" style="font-family:fantasy;">Ready to Book?</h3>
							<p class="section-sub-title">Get in touch.</p>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12" role="tabpanel">
							<div class="row">
								<div class="col-sm-6 col-sm-offset-3">
									<!-- Nav tabs -->
									<ul class="nav nav-justified" id="nav-tabs" role="tablist">
										<li role="presentation" class="active">
											<a href="#contact-1" aria-controls="contact-1" role="tab" data-toggle="tab"
												class="btn btn-white btn-lg">
												<span>联系信息</span>
											</a>
										</li>
										<li role="presentation" class="">
											<a href="#contact-2" aria-controls="contact-2" role="tab" data-toggle="tab"
												class="btn btn-white btn-lg">
												<span>留下你的信息</span>
											</a>
										</li>
									</ul>
								</div>
							</div>
							<div class="row">
								<div class="col-xs-10 col-sm-offset-2">
									<div class="tab-content pt60" id="tabs-collapse">
										<div role="tabpanel" class="tab-pane fade in active" id="contact-1">
											<div class="tab-inner">
												<div class="row mb90">
													<div class="col-sm-5 col-sm-offset-1 wow fadeIn">
														<h3 class="mb30">地址</h3>
														<p class="lead">厦门理工学院</p>
														<p class="lead">集美苑</p>
														<p class="lead">215</p>
													</div>

													<div class="col-md-5 wow fadeIn">
														<h3 class="mb30">Jubel</h3>
														<p class="lead">18559644889</p>
														<p class="lead">652006596@qq.com</p>
													</div>
												</div>
											</div>
										</div>

										<div role="tabpanel" class="tab-pane fade" id="contact-2">
											<div class="tab-inner">
												<div class="row">
													<div class="col-md-8 col-md-offset-1">
														<div class="row">
															<div id="message" class="col-sm-12">&nbsp;</div>
															<div class="col-sm-12">
																<form method="post" action="sendemail.php"
																	id="contactform" class="main-contact-form">

																	<div class="form-group">
																		<input type="text"
																			class="form-control col-md-4 mb20"
																			name="username" placeholder="您的名字 *"
																			id="username" required
																			data-validation-required-message="Please enter your name." />
																		<input type="email"
																			class="form-control col-md-4 mb20"
																			name="email" placeholder="您的邮箱 *" id="email"
																			required
																			data-validation-required-message="Please enter your email address." />
																		<input type="tel"
																			class="form-control col-md-4 mb20"
																			name="phone" placeholder="您的手机号 *"
																			id="phone" required
																			data-validation-required-message="Please enter your web address." />
																	</div>
																	<textarea name="other" class="form-control mb20"
																		id="other" placeholder="其他信息" required
																		data-validation-required-message="Please enter a message."></textarea>
																	<!-- <input class="btn btn-white mt30 pull-right"
																		type="submit" name="提交" value="Submit" /> -->
																	<input type="button" value="提交"
																		class="btn  mt30 pull-right"
																		onclick="register() " />
																	
																		
															</div><br />
															<div id="result" class="form-control mb20"></div>

															</form>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>


								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
	</div>
	</section>



	</div>

	<script src="assets/js/jquery.min2.js"></script>
	<script src="assets/bootstrap/js/bootstrap.min.js"></script>
	<script src="assets/js/plugins.js"></script>


	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/skel.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>



	<script type="text/javascript">
		//数据库连接句柄 = openDatabase(数据库名, 版本号, 数据库显示名称, 估计容量);
		function createTable() {
			if (window.openDatabase == undefined) {
				alert("您的浏览器不支持webSQL Database API。");
			} else {
				var dbs = window.openDatabase('mydatabase', 'v1.0', 'Save data DB', 100);
				if (dbs) {
					dbs.transaction(function (tx) {
						tx.executeSql("CREATE TABLE IF NOT EXISTS user(username UNIQUE,email,phone,other)");
					});

					dbs.transaction(function (tx) {
						tx.executeSql("INSERT INTO user(username,email,phone,other) VALUES ( '" + name + "', '" +
							tiie + "','" + img + "', '" + number + "', '" + price + "')");
					},
						function (error) {
							// alert('该用户名已经存在，请使用其他用户名注册。')

							dbs.transaction(function (tx) {
								tx.executeSql("UPDATE t SET number = '" + number + "' WHERE name = '" + name + "'");
							},
								function (tx, results) {
									alert("成功加入购物车数量" + Number(number + 1));
								}
							);

						},
						function (tx, results) {
							// alert("添加成功");
						}
					);

				} else {
					alert('打开数据库失败。');
				}
			}
		}
		createTable()
		function register() {
			if (window.openDatabase == undefined) {
				alert("您的浏览器不支持webSQL Database API。");
			} else {
				var dbs = window.openDatabase('mydatabase', 'v1.0', 'Save data DB', 100);
				if (dbs) {
					createTable();
					var username = document.getElementById("username").value;
					var email = document.getElementById("email").value;
					var phone = document.getElementById("phone").value;
					var other = document.getElementById("other").value;

					document.getElementById("username").value = "";
					document.getElementById("email").value = "";
					document.getElementById("phone").value = "";
					document.getElementById("other").value = "";
					//判断用户名存不存在
					var isExist = 1;
					dbs.transaction(function (tx) {
						tx.executeSql("select * from user where username = ?", [username], function (tx, result) {
							if (result.rows.length > 0) {
								isExist = 0;
							}
						}, null)
					});
					if (isExist) {
						dbs.transaction(function (tx) {
							tx.executeSql("INSERT INTO user(username ,email,phone,other) VALUES (?,?,?,?)",
								[username, email, phone, other], function (tx, result) {
									alert('添加成功');
									show();
								}, function (tx, error) {
									// 错误
									alert('该用户名已存在，请使用其他用户名注册！！！')
								})
						});
					} else
						alert("该用户名已存在，请使用其他用户名注册！！！");
				} else
					alert('打开数据库失败。');
			}
		}

		function show() {
			var dbs = window.openDatabase('mydatabase', 'v1.0', 'Save data DB', 100);
			if (dbs) {
				dbs.transaction(function (tx) {
					tx.executeSql("select * from user ", [],
						function (tx, result) {
							var t = "<table border='1' ><tr><td>名字</td><td>邮箱</td><td>手机号码</td><td>其他</td><td colspan=2>操作</td></tr>";
							for (var i = 0; i < result.rows.length; i++) {
								t += "<tr> <td>" + result.rows.item(i).username +
									"</td><td>" + result.rows.item(i).email +
									"</td><td>" + result.rows.item(i).phone +
									"</td><td>" + result.rows.item(i).other +
									"</td><td> <button onclick='updateUser(this)' style='visibility: hidden;'>修改</button></td><td>" +
									"<button onclick='deleteUser(this)'>删除</button> </td></tr>";
							}
							t += "</table>"
							document.getElementById("result").innerHTML = t;
						},
						function (tx, e) { });
				});
			} else {
				alert("你的浏览器不支持 web SQL");
			}
		}


		function deleteUser(me) {
			var name = me.parentNode.parentNode.cells[0].innerHTML;
			var dbs = window.openDatabase('mydatabase', 'v1.0', 'Save data DB', 100);
			if (dbs) {
				dbs.transaction(function (tx) {
					tx.executeSql("delete from user where username = ?", [name], function (tx, res) {
						alert("删除成功！！！");
						window.location.reload(true);
					}, function (tx, error) {
						alert("删除失败！！！")
					});
				});
			} else
				alert("你的浏览器不支持 webDB");
		}
	</script>

</body>

</html>